<div class="container">
  <div class="row" *ngIf="dataset">
    <div class="col-md-8">
      <h2>{{ dataset.info.label }}</h2>
      <hr />
      <p class="text-justify">
        <img
          [src]="dataset.info.image"
          alt="no img"
          style="float: left"
          class="mr-md-4 w-50"
          *ngIf="dataset.info.image"
        />
        {{ dataset.info.description }}
      </p>

      <ng-container *ngFor="let product of dataset.products | keyvalue">
        <h3>{{ product.key }}</h3>
        <table class="table table-sm table-hover table-condensed">
          <tbody>
            <tr *ngFor="let v of product.value[0].variables | keyvalue">
              <th>{{ v.value.label }}</th>
              <td>{{ v.value.units }}</td>
            </tr>
          </tbody>
        </table>
      </ng-container>
      <h3>Attribution</h3>
      <p>{{ dataset.info.attribution }}</p>
    </div>
    <div class="col-md-4 mb-5">
      <h2>&nbsp;</h2>
      <hr />
      <h3>Contact</h3>
      <address>
        <strong>{{ dataset.info.contact.name }}</strong>
        <br />
        <span>
          <i class="fas fa-envelope"></i>
          {{ dataset.info.contact.email }}
        </span>
        <br />
        <ng-container *ngIf="dataset.info.contact.webpage">
          <i class="fas fa-globe"></i>
          <a
            [href]="dataset.info.contact.webpage"
            target="_blank"
            class="ml-1"
            >{{ dataset.info.contact.webpage }}</a
          >
        </ng-container>
        <br />
      </address>
      <h3>Publication Date</h3>
      <p>{{ dataset.info.publication_date | date }}</p>
      <h3>License</h3>
      <p>{{ dataset.info.license.name }}</p>
    </div>
  </div>
  <div class="row mt-4" *ngIf="user">
    <div class="col mb-5">
      <!-- TODO put here extraction request parameters -->
      <a class="btn btn-primary btn-lg" [routerLink]="" (click)="jobSubmit()"
        >Job Submit Â»</a
      >
    </div>
  </div>
</div>
