<div class="container" *ngIf="ssr.isServer">
  <div class="row">
    <div class="col-12 p-5 text-center" *ngIf="ssr.isServer">
      <div class="spinner-grow" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>
</div>
<div class="container applications" *ngIf="ssr.isBrowser">
  <ngx-spinner
    type="ball-scale-multiple"
    bdColor="rgba(255,255,255,0.8)"
    color="#6c757d"
    zIndex="1000"
    [fullScreen]="false"
    size="medium"
  ></ngx-spinner>
  <div class="d-flex justify-content-between">
  <h2>{{ title }}</h2>
  <form class="d-flex" *ngIf="!isApplication;">
    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
    <button class="btn btn-outline-success" type="submit">Search</button>
  </form>
  </div>
  <div class="row g-0 justify-content-md-center mt-3" *ngIf="datasets">
    <!-- no datasets -->
    <ng-template #noResults>
      <div class="col">
        <hr class="mt-2 mb-3" />
        <div class="no-results">
          <h2>No Datasets</h2>
          <p>we are sorry but no dataset is available yet</p>
        </div>
      </div>
    </ng-template>

    <div class="col" *ngIf="datasets.length > 0; else noResults">
      <!-- view applications -->
      <ng-container *ngIf="isApplication; else datasetsView">
        <hld-applications
          [datasets]="datasets"
          [user]="user"
        ></hld-applications>
      </ng-container>
      <!-- view datasets -->
      <ng-template #datasetsView>
        <div class="search-result" *ngFor="let dataset of datasets">
          <div class="row">
            <div class="col-xs-1 d-none d-sm-block col-sm-1 text-center">
              <span
                class="fa fa-database fa-2x fa-blue"
                aria-hidden="true"
              ></span>
            </div>
            <div class="search-result-details col-xs-11 col-12 col-sm-11">
              <h3>
                <a href [routerLink]="[dataset.id]" [state]="dataset">{{
                  dataset.label
                }}</a>
              </h3>
              <ng-container *ngIf="dataset.description">
                <div class="description-container">
                  <i class="fa fa-quote-left fa-gray me-2"></i>
                  <p
                    [innerHTML]="dataset.description"
                    class="text d-inline"
                  ></p>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
        <nav aria-label="..." class="mt-3 mb-3">
            <ul class="pagination">
              <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
              </li>
              <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
              <li class="page-item">
                <a class="page-link" href="#">2</a>
              </li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#">Next</a>
              </li>
            </ul>
          </nav>
      </ng-template>
    </div>
  </div>
</div>
